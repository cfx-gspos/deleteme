{"version":3,"sources":["constants/index.js","utils/index.js","images/not-allow.png","../public/locales/index.js","pages/components/Header/index.js","utils/cfx.js","pages/Home/index.js","pages/Pool/Header.js","pages/Pool/ConfirmModal.js","pages/Pool/TxModal.js","images/success_big.png","pages/Pool/index.js","App.js","reportWebVitals.js","index.js","../pool.config.js"],"names":["CFX_BASE_PER_VOTE","SCAN_URL","StatusPosNode","isTestNetEnv","window","process","REACT_APP_TestNet","location","hostname","includes","getCfxByVote","vote","BigNumber","multipliedBy","toNumber","getApy","data","dividedBy","getFee","userFee","minus","calculateGasMargin","value","margin","toString","plus","toFixed","getDateByBlockInterval","minuend","subtrahend","minuendBn","subtrahendBn","isGreater","isGreaterThan","seconds","futureDate","Date","now","pastDate","getEllipsStr","str","frontNum","endNum","length","substring","getPrecisionAmount","amount","precision","i18n","use","initReactI18next","init","lng","config","defaultLang","debug","resources","en","translation","zh","id","vn","ko","interpolation","escapeValue","Option","Select","Header","Layout","isTest","HeaderComp","t","useTranslation","address","useAccount","chainId","useChainId","networkError","style","width","height","padding","className","to","href","target","marginRight","color","fontSize","defaultValue","language","onChange","changeLanguage","type","onClick","tryActivate","createPortal","src","NotAllow","alt","document","body","networkId","cfxUrl","poolConfig","testnet","RPC","mainnet","origin","conflux","Conflux","url","posPoolManagerAddressTestnet","poolManagerAddress","posPoolManagerAddressMainnet","posPoolManagerAddress","getPosPoolContract","Contract","abi","posPoolAbi","posPoolManagerContract","posManagerAbi","getPosAccountByPowAddress","a","posPoolContract","format","posAddress","hex","provider","call","posAccout","Home","useState","dataList","setDataList","loading","setLoading","history","useHistory","accountAddress","columns","title","key","dataIndex","render","status","text","record","size","RightCircleOutlined","push","gotoPoolPage","useEffect","getPools","list","transferData","getData","arr","proArr","forEach","item","Promise","all","proRes","index","totalAvailable","name","apy","fee","forceRetired","dataSource","pagination","poolAddress","useParams","lockedCfx","setLockedCfx","totalRevenue","setTotalRevenue","setApy","setName","poolSummary","poolAPY","poolName","Drip","toCFX","fetchData","cardStyle","backgroundColor","borderRadius","fontWeight","cardHeadStyle","opacity","bordered","headStyle","icon","SyncOutlined","spin","CheckCircleOutlined","CloseCircleOutlined","getStatusTag","ConfirmModal","visible","setVisible","onOk","content","okText","onCancel","TxModal","txHash","networkVersion","getNetworkUrl","maskClosable","footer","rel","Pool","Form","useForm","form","_balance","useBalance","balance","toDecimalStandardUnit","cfxMaxCanStake","isGreaterThanOrEqualTo","multiple","Math","floor","getMax","setStatus","stakedCfx","setStakedCfx","rewards","setRewards","setFee","cfxCanUnstake","setCfxCanUnstate","cfxCanWithdraw","setCfxCanWithdraw","inputStakeCfx","setInputStakeCfx","inputUnstakeCfx","setInputUnstakeCfx","userSummary","setUserSummary","currentBlockNumber","setCurrentBlockNumber","lastDistributeTime","setLastDistributeTime","unstakeList","setUnstakeList","stakeModalShown","setStakeModalShown","unstakeModalShown","setUnStakeModalShown","txModalShown","setTxModalShown","setTxHash","stakeInputStatus","setStakeInputStatus","stakeErrorText","setStakeErrorText","unstakeInputStatus","setUnstakeInputStatus","unstakeErrorText","setUnstakeErrorText","stakeBtnDisabled","setStakeBtnDisabled","unstakeBtnDisabled","setUnstakeBtnDisabled","isLoading","setIsLoading","waitStakeRes","setWaitStakeRes","currentBlock","blockNumber","lastDistribute","lastDistributeBlock","toLocaleString","posAccount","stakeCfxNum","Number","error","cfxNum","fetchPoolData","useCallback","userInterest","poolUserShareRatio","userOutQueue","userSum","transferQueue","queueList","timeStr","submit","message","estimateData","stakeVote","increaseStake","estimateGasAndCollateral","from","unstakeVote","decreaseStake","claimAllInterest","withdrawStake","txParams","gas","Unit","fromMinUnit","gasLimit","toHexMinUnit","storageLimit","String","storageCollateralized","sendTransaction","console","checkNetwork","callback","layout","wrapperCol","Item","required","validateStatus","help","span","placeholder","e","disabled","dashed","borderColor","isEqualTo","orientation","renderItem","time","Content","App","fallback","basename","path","exact","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","completeDetect","ReactDOM","StrictMode","getElementById","module","exports"],"mappings":"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","file":"static/js/main.cbc62b1d.chunk.js","sourcesContent":["export const TypeConnectWallet = {\r\n    uninstalled: 'uninstalled',\r\n    loading: 'loading',\r\n    error: 'error',\r\n    success: 'success',\r\n}\r\n\r\nexport const NETWORK_ID_MAINNET = 1029\r\nexport const NETWORK_ID_TESTNET = 1\r\nexport const CFX_BASE_PER_VOTE=1000\r\nexport const SCAN_URL = \"https://confluxscan.io\"\r\nexport const SCAN_URL_TESTNET = \"https://testnet.confluxscan.io\"\r\nexport const SCAN_URL_DEVENT = \"https://devnet-scantest.confluxnetwork.org\"\r\nexport const SCAN_URL_POS_DEV = \"https://posrc.confluxscan.net\"\r\nexport const RemainderAmount=1 // you must have 1 cfx in wallet to pay gas fee\r\n\r\nexport const StatusPosNode={\r\n    loading:'loading',\r\n    error:'error',\r\n    success:'success',\r\n    warning:'warning'\r\n}","import BigNumber from \"bignumber.js\";\r\nimport {\r\n  CFX_BASE_PER_VOTE,\r\n  SCAN_URL,\r\n  SCAN_URL_TESTNET,\r\n  SCAN_URL_DEVENT,\r\n  SCAN_URL_POS_DEV,\r\n  RemainderAmount,\r\n} from \"../constants\";\r\n\r\nexport const isTestNetEnv = () => {\r\n  if (typeof window !== `undefined`) {\r\n    return (\r\n      process.env.REACT_APP_TestNet === \"true\" ||\r\n      window.location.hostname.includes(\"test\")\r\n    );\r\n  }\r\n  return false;\r\n};\r\n\r\nexport const getCfxByVote = (vote) =>\r\n  new BigNumber(vote).multipliedBy(CFX_BASE_PER_VOTE).toNumber();\r\nexport const getApy = (data) => new BigNumber(data).dividedBy(100).toNumber();\r\nexport const getFee = (userFee) =>\r\n  new BigNumber(100).minus(new BigNumber(userFee).dividedBy(100)).toNumber();\r\n\r\n// add 10% by default\r\nexport function calculateGasMargin(value, margin = 0.1) {\r\n  return new BigNumber(value?.toString(10))\r\n    .multipliedBy(new BigNumber(10000).plus(new BigNumber(10000 * margin)))\r\n    .dividedBy(new BigNumber(10000))\r\n    .toFixed(0);\r\n}\r\n\r\nexport const getDateByBlockInterval = (minuend = 0, subtrahend = 0) => {\r\n  const minuendBn = new BigNumber(minuend);\r\n  const subtrahendBn = new BigNumber(subtrahend);\r\n  const isGreater = minuendBn.isGreaterThan(subtrahendBn);\r\n  const seconds = isGreater\r\n    ? minuendBn.minus(subtrahendBn).dividedBy(2).toNumber()\r\n    : subtrahendBn.minus(minuendBn).dividedBy(2).toNumber();\r\n  const futureDate = new Date(\r\n    new BigNumber(Date.now()).plus(seconds * 1000).toNumber()\r\n  );\r\n  const pastDate = new Date(\r\n    new BigNumber(Date.now()).minus(seconds * 1000).toNumber()\r\n  );\r\n  return isGreater ? futureDate : pastDate;\r\n};\r\n\r\nexport const getEllipsStr = (str, frontNum, endNum) => {\r\n  if (str) {\r\n    const length = str.length;\r\n    if (endNum === 0 && length <= frontNum) {\r\n      return str.substring(0, frontNum);\r\n    }\r\n    return (\r\n      str.substring(0, frontNum) +\r\n      \"...\" +\r\n      str.substring(length - endNum, length)\r\n    );\r\n  }\r\n  return \"\";\r\n};\r\n\r\nexport const getNetworkUrl = () => {\r\n  let networkVersion = \"\";\r\n  if (typeof window !== `undefined`) {\r\n    networkVersion = window.conflux?.networkVersion;\r\n  }\r\n  let url = \"\";\r\n  switch (networkVersion) {\r\n    case \"1029\":\r\n      url = SCAN_URL;\r\n      break;\r\n    case \"1\":\r\n      url = SCAN_URL_TESTNET;\r\n      break;\r\n    case \"1921\":\r\n      url = SCAN_URL_DEVENT;\r\n      break;\r\n    case \"8888\":\r\n      url = SCAN_URL_POS_DEV;\r\n      break;\r\n    default:\r\n      url = SCAN_URL;\r\n      break;\r\n  }\r\n  return url;\r\n};\r\n\r\nexport const getMax = (amount) => {\r\n  const amountBn = new BigNumber(amount);\r\n  if (\r\n    amountBn.isGreaterThanOrEqualTo(\r\n      new BigNumber(CFX_BASE_PER_VOTE).plus(RemainderAmount)\r\n    )\r\n  ) {\r\n    const multiple = Math.floor(\r\n      new BigNumber(amount)\r\n        .minus(RemainderAmount)\r\n        .dividedBy(CFX_BASE_PER_VOTE)\r\n        .toNumber()\r\n    );\r\n    return new BigNumber(multiple).multipliedBy(CFX_BASE_PER_VOTE).toNumber();\r\n  }\r\n  return 0;\r\n};\r\n\r\nexport const getPrecisionAmount=(amount,precision=0)=>{\r\n  return new BigNumber(amount).toFixed(precision)\r\n}\r\n","export default __webpack_public_path__ + \"static/media/not-allow.ecffa81e.png\";","import i18n from 'i18next'\r\nimport {initReactI18next} from 'react-i18next'\r\nimport en from './en/translation.json';\r\nimport zh from './zh/translation.json';\r\nimport id from './id/translation.json';\r\nimport ko from './ko/translation.json';\r\nimport vn from './vn/translation.json';\r\nimport config from '../../pool.config';\r\n\r\ni18n\r\n  .use(initReactI18next)\r\n  .init({\r\n    lng: config.defaultLang || 'en',\r\n    debug: true,\r\n    resources: {\r\n      en: {\r\n        translation: en\r\n      },\r\n      zh: {\r\n        translation: zh\r\n      },\r\n      id: {\r\n        translation: id\r\n      },\r\n      vn: {\r\n        translation: vn\r\n      },\r\n      ko: {\r\n        translation: ko\r\n      },\r\n    },\r\n    interpolation: {\r\n      escapeValue: false,\r\n    },\r\n  })\r\n\r\nexport default i18n\r\n","import { createPortal } from 'react-dom';\r\nimport { Link} from \"react-router-dom\";\r\nimport { Layout,Button,Select } from 'antd';\r\nimport { useTranslation } from 'react-i18next';\r\nimport {connect as tryActivate, useAccount, useChainId} from '@cfxjs/use-wallet';\r\nimport { isTestNetEnv } from \"../../../utils\";\r\nimport NotAllow from \"../../../images/not-allow.png\";\r\nimport i18n from '../../../../public/locales';\r\n\r\nconst { Option } = Select;\r\nconst { Header } = Layout;\r\nconst isTest = isTestNetEnv();\r\n\r\nfunction HeaderComp() {\r\n    const { t } = useTranslation();\r\n    const address = useAccount();\r\n    const chainId = useChainId();\r\n    const networkError = (isTest && chainId === '1029') || (!isTest && chainId === '1');\r\n\r\n    return (\r\n      <Header style={{width: '100%', height: 'fit-content', padding: 0 }}>\r\n        {isTest &&\r\n          <div className='w-full h-[64px] leading-[64px] text-[#f3504f] bg-[#f3504f] bg-opacity-20 z-[49] text-[16px] text-center border-b border-[#f3504f]'>\r\n            {t('Header.test_note')}\r\n          </div>\r\n        }\r\n        <div className='flex justify-between text-white bg-main-back bg-opacity-0 px-[50px]'>\r\n          <Link to=\"/\">ST Pool</Link>\r\n          <div className='flex items-center'>\r\n          <b>\r\n            <a href=\"/Mobile\" target=\"_blank\" style={{marginRight:'20px',color:'red',fontSize:'20px'}}>Mobile Version</a>\r\n             </b>\r\n            <Select style={{ marginRight: '20px'}} defaultValue={i18n.language}  onChange={lng => i18n.changeLanguage(lng)}>\r\n            <Option value=\"zh\">繁体中文</Option>  \r\n              <Option value=\"en\">English</Option>\r\n              <Option value=\"vn\">Vietnamese</Option>\r\n              <Option value=\"id\">Indonesian</Option>\r\n              <Option value=\"ko\">Korean</Option>\r\n            </Select>\r\n            {address&&<div>{address}</div>}\r\n            {!address&&<Button type='primary' onClick={tryActivate}>{t('Header.connect_portal')}</Button>}\r\n          </div>\r\n        </div>\r\n\r\n        {networkError &&\r\n          createPortal(\r\n            <div className='fixed top-0 left-0 w-[100vw] h-[100vh] bg-black bg-opacity-25 z-50'>\r\n              <div className='absolute top-[40%] left-[50%] translate-x-[-50%] translate-y-[-50%] flex flex-col justify-center items-center w-[480px] h-[390px] px-[28px] py-[12px] bg-white shadow rounded-md'>\r\n                  <img className=\"w-[340px] h-[240px]\" src={NotAllow} alt=\"not allow imgs\" />\r\n                  <p className='text-[32px] leading-[32px] text-[#333] my-[16px] font-bold'>{t('Header.error')}</p>\r\n                  <p className='text-[16px] leading-[24px] text-[#999] my-0 font-medium'>\r\n                    {isTest && chainId === '1029' ?\r\n                        t('Header.unspport_network_switch_testnet')\r\n                        : t('Header.unspport_network_switch_hydra')\r\n                    }\r\n                  </p>\r\n              </div>\r\n            </div>\r\n            , document.body\r\n          )\r\n        }\r\n      </Header>\r\n    );\r\n  }\r\n  \r\n  export default HeaderComp;","import {\r\n  Conflux,\r\n  format,\r\n  Drip,\r\n} from \"js-conflux-sdk/dist/js-conflux-sdk.umd.min.js\";\r\n\r\nimport { abi as posPoolAbi } from \"./../../../contract/ABI/IPoSPool.json\";\r\nimport { abi as posManagerAbi } from \"./../../../contract/ABI/PoolManager.json\";\r\nimport { isTestNetEnv } from \"./index\";\r\nimport { NETWORK_ID_MAINNET, NETWORK_ID_TESTNET } from \"../constants\";\r\nimport poolConfig from '../../pool.config';\r\n\r\nconst networkId = isTestNetEnv() ? NETWORK_ID_TESTNET : NETWORK_ID_MAINNET;\r\nlet cfxUrl = isTestNetEnv() ? poolConfig.testnet.RPC : poolConfig.mainnet.RPC;\r\nif (process.env.REACT_APP_TestNet === \"true\") {\r\n  cfxUrl = window.location.origin + \"/rpc\";\r\n}\r\n\r\nconst conflux = new Conflux({\r\n  url: cfxUrl,\r\n  networkId,\r\n});\r\n\r\nconst posPoolManagerAddressTestnet = poolConfig.testnet.poolManagerAddress;\r\nconst posPoolManagerAddressMainnet = poolConfig.mainnet.poolManagerAddress;\r\nconst posPoolManagerAddress = isTestNetEnv()\r\n  ? posPoolManagerAddressTestnet\r\n  : posPoolManagerAddressMainnet;\r\n\r\nconst getPosPoolContract = (address) =>\r\n  conflux.Contract({\r\n    abi: posPoolAbi,\r\n    address: address,\r\n  });\r\n\r\nconst posPoolManagerContract = conflux.Contract({\r\n  abi: posManagerAbi,\r\n  address: posPoolManagerAddress,\r\n});\r\n\r\nexport const getPosAccountByPowAddress = async (address) => {\r\n  const posPoolContract = await getPosPoolContract(address);\r\n  const posAddress = format.hex(await posPoolContract.posAddress());\r\n  const posAccout = await conflux.provider.call(\"pos_getAccount\", posAddress);\r\n  return posAccout;\r\n};\r\nexport {\r\n  conflux,\r\n  format,\r\n  Drip,\r\n  getPosPoolContract,\r\n  posPoolManagerContract,\r\n  posPoolManagerAddress,\r\n};\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { Table, Space, Tag, } from \"antd\";\r\nimport { RightCircleOutlined } from \"@ant-design/icons\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { useTranslation } from 'react-i18next';\r\n\r\nimport { getCfxByVote, getApy, getFee } from \"../../utils\";\r\nimport {\r\n  posPoolManagerContract,\r\n  getPosAccountByPowAddress,\r\n} from \"../../utils/cfx\";\r\nimport {connect as tryActivate, useAccount} from '@cfxjs/use-wallet';\r\n\r\nfunction Home() {\r\n  const { t } = useTranslation();\r\n\r\n  const [dataList, setDataList] = useState([]);\r\n  const [loading,setLoading]=useState(false)\r\n  const history = useHistory();\r\n  const accountAddress = useAccount();\r\n  const gotoPoolPage = (record) => {\r\n    if (accountAddress) {\r\n      history.push(`/pool/${record?.address}`);\r\n    } else {\r\n      tryActivate();\r\n    }\r\n  };\r\n  const columns = [\r\n    {\r\n      title: t(\"Home.status\"),\r\n      key: \"status\",\r\n      dataIndex: \"status\",\r\n      width:100,\r\n      render: (status) => (\r\n        <>\r\n          {\r\n            status===\"green\"&&<Tag color=\"green\">{t(\"Home.status_good\")}</Tag>\r\n          }\r\n          {\r\n            status===\"error\"&&<Tag color=\"error\">{t(\"Home.status_error\")}</Tag>\r\n          }\r\n          {\r\n            status===\"warning\"&&<Tag color=\"warning\">{t(\"Home.status_warning\")}</Tag>\r\n          }\r\n        </>\r\n      ),\r\n    },\r\n    {\r\n      title: t(\"Home.pool\"),\r\n      dataIndex: \"name\",\r\n      key: \"name\",\r\n      width:200\r\n    },\r\n    {\r\n      title: t(\"Home.total_locked\"),\r\n      dataIndex: \"totalAvailable\",\r\n      key: \"totalAvailable\",\r\n      width:200\r\n    },\r\n    {\r\n      title: t(\"Home.apy\"),\r\n      dataIndex: \"apy\",\r\n      key: \"apy\",\r\n      width:100,\r\n    },\r\n    {\r\n      title: t(\"Home.performance_fee\"),\r\n      dataIndex: \"fee\",\r\n      key: \"fee\",\r\n      width:150\r\n    },\r\n    {\r\n      title: \"\",\r\n      key: \"action\",\r\n      width:60,\r\n      render: (text, record) => {\r\n        return (\r\n          <Space size=\"middle\">\r\n            <RightCircleOutlined\r\n              onClick={() => gotoPoolPage(record)}\r\n              style={{ fontSize: \"28px\", color: \"#08c\" }}\r\n            />\r\n          </Space>\r\n        );\r\n      },\r\n    },\r\n  ];\r\n\r\n  useEffect(() => {\r\n    async function getData() {\r\n      setLoading(true)\r\n      try {\r\n        const list = await posPoolManagerContract.getPools();\r\n        const data = await transferData(list);\r\n        history.push(`/pool/${data[0].address}`);\r\n        setDataList(data);\r\n        setLoading(false)\r\n      } catch (error) {\r\n        setDataList([]);\r\n        setLoading(false)\r\n      }\r\n    }\r\n    getData();\r\n  }, []);\r\n\r\n  const transferData = async (list) => {\r\n    const arr = [];\r\n    const proArr = [];\r\n    list.forEach((item) => {\r\n      const address = item[3];\r\n      proArr.push(getPosAccountByPowAddress(address));\r\n    });\r\n    try {\r\n      const proRes = await Promise.all(proArr);\r\n    list.forEach((item, index) => {\r\n      arr.push({\r\n        key: item[3],\r\n        address: item[3],\r\n        totalAvailable: getCfxByVote(item[2]),\r\n        name: item[4],\r\n        apy: getApy(item[0]) + \"%\",\r\n        fee: getFee(item[1]) + \"%\",\r\n        status: proRes[index]?.status?.forceRetired == null,\r\n      });\r\n    });\r\n    } catch (error) {\r\n      list.forEach((item, index) => {\r\n        arr.push({\r\n          key: item[3],\r\n          address: item[3],\r\n          totalAvailable: getCfxByVote(item[2]),\r\n          name: item[4],\r\n          apy: getApy(item[0]) + \"%\",\r\n          fee: getFee(item[1]) + \"%\",\r\n          status: \"warning\",\r\n        });\r\n      });\r\n    }\r\n    \r\n    return arr;\r\n  };\r\n  return (\r\n    <div className=\"w-full h-full flex items-center justify-center\">\r\n      <Table columns={columns} dataSource={dataList} pagination={false} size='middle' loading={loading} />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Home;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { Card, Tag } from \"antd\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport BigNumber from \"bignumber.js\";\r\nimport {\r\n  CheckCircleOutlined,SyncOutlined,CloseCircleOutlined\r\n} from '@ant-design/icons';\r\n\r\nimport { getPosPoolContract, Drip } from \"../../utils/cfx\";\r\nimport { getCfxByVote, getApy,getPrecisionAmount } from \"../../utils\";\r\nimport { StatusPosNode } from \"../../constants\";\r\nimport {useTranslation} from 'react-i18next'\r\n\r\n\r\nfunction Header({ status }) {\r\n  const {t} = useTranslation()\r\n\r\n  let { poolAddress } = useParams();\r\n  const posPoolContract = getPosPoolContract(poolAddress);\r\n  const [lockedCfx, setLockedCfx] = useState(0);\r\n  const [totalRevenue, setTotalRevenue] = useState(0);\r\n  const [apy, setApy] = useState(0);\r\n  const [name,setName]=useState('loading...')\r\n\r\n  const getStatusTag=(status)=>{\r\n    let icon=null\r\n    let color=''\r\n    let text=''\r\n    switch(status){\r\n      case StatusPosNode.loading:\r\n        icon=<SyncOutlined spin />\r\n        color='default'\r\n        text=t(\"Home.status_loading\")\r\n        break;\r\n      case StatusPosNode.success:\r\n        icon=<CheckCircleOutlined />\r\n        color='success'\r\n        text=t(\"Home.status_good\")\r\n        break;\r\n      case StatusPosNode.error:\r\n        icon=<CloseCircleOutlined />\r\n        color='error'\r\n        text=t(\"Home.status_error\")\r\n        break;  \r\n      case StatusPosNode.warning:\r\n        icon=<></>\r\n        color='warning'\r\n        text=t(\"Home.status_warning\")\r\n        break;  \r\n      default:break  \r\n    }\r\n    return <Tag color={color} icon={icon}>{text}</Tag>\r\n  }\r\n\r\n  useEffect(() => {\r\n    async function fetchData() {\r\n      try {\r\n        const proArr = [];\r\n        proArr.push(posPoolContract.poolSummary());\r\n        proArr.push(posPoolContract.poolAPY());\r\n        proArr.push(posPoolContract.poolName());\r\n        const data = await Promise.all(proArr);\r\n        const poolSummary = data[0];\r\n        setLockedCfx(getCfxByVote(poolSummary[0]));\r\n        setTotalRevenue(\r\n          new Drip(\r\n            new BigNumber(poolSummary[2]).minus(poolSummary[1]).toNumber()\r\n          ).toCFX()\r\n        );\r\n        setApy(getApy(data[1]));\r\n        setName(data[2])\r\n      } catch (error) {}\r\n    }\r\n    fetchData();\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [poolAddress]);\r\n\r\n  const cardStyle = {\r\n    backgroundColor: \"#4d5a7e\",\r\n    borderRadius: \"10px\",\r\n    color: \"#fff\",\r\n    fontWeight: \"700\",\r\n  };\r\n  const cardHeadStyle = { color: \"#fff\", opacity: \"0.6\" };\r\n  return (\r\n    <div className=\"flex\">\r\n      <div className=\"flex-1 pr-4 \">\r\n        <Card\r\n          title={t(\"Home.status\")}\r\n          bordered={false}\r\n          style={cardStyle}\r\n          headStyle={cardHeadStyle}\r\n        >\r\n          {getStatusTag(status)}\r\n        </Card>\r\n      </div>\r\n      <div className=\"flex-1 pr-4\">\r\n        <Card\r\n          title={t(\"Home.pool\")}\r\n          bordered={false}\r\n          style={cardStyle}\r\n          headStyle={cardHeadStyle}\r\n        >\r\n          <div>{name}</div>\r\n        </Card>\r\n      </div>\r\n      <div className=\"flex-1 pr-4\">\r\n        <Card\r\n          title={t(\"Home.total_locked\")}\r\n          bordered={false}\r\n          style={cardStyle}\r\n          headStyle={cardHeadStyle}\r\n        >\r\n          <div>{lockedCfx}</div>\r\n        </Card>\r\n      </div>\r\n      <div className=\"flex-1 pr-4\">\r\n        <Card title={t(\"Home.total_revenue\")} bordered={false} style={cardStyle} headStyle={cardHeadStyle}>\r\n          <div>{getPrecisionAmount(totalRevenue,5)}</div>\r\n        </Card>\r\n      </div>\r\n      <div className=\"flex-1\">\r\n        <Card title={t(\"Home.apy\")} bordered={false} style={cardStyle} headStyle={cardHeadStyle}>\r\n          <div>{apy + \"%\"}</div>\r\n        </Card>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\nexport default Header;\r\n","import {Modal} from 'antd'\r\nimport {useTranslation} from 'react-i18next'\r\n\r\nfunction ConfirmModal({type, visible, setVisible, onOk}) {\r\n  const {t} = useTranslation()\r\n\r\n  let content = <></>\r\n  let okText = ''\r\n  switch (type) {\r\n    case 'stake':\r\n      okText = t('ConfirmModal.stake')\r\n      content = (\r\n        <div>\r\n          <div className=\"text-center text-error text-base font-bold mt-2 mb-4\">\r\n            {t('ConfirmModal.stake_1')}\r\n          </div>\r\n          <div className=\"leading-6\">{t('ConfirmModal.stake_2')}</div>\r\n          <div className=\"leading-6\">{t('ConfirmModal.stake_3')}</div>\r\n          <div className=\"leading-6\">{t('ConfirmModal.stake_4')}</div>\r\n        </div>\r\n      )\r\n      break\r\n    case 'unstake':\r\n      okText = t('ConfirmModal.unstake')\r\n      content = (\r\n        <div>\r\n          <div>{t('ConfirmModal.unstake_1')}</div>\r\n          <div>{t('ConfirmModal.unstake_2')}</div>\r\n          <div>{t('ConfirmModal.unstake_3')}</div>\r\n        </div>\r\n      )\r\n      break\r\n    default:\r\n      break\r\n  }\r\n  return (\r\n    <Modal\r\n      title=\"Confirm\"\r\n      visible={visible}\r\n      onOk={onOk}\r\n      okText={okText}\r\n      onCancel={() => {\r\n        setVisible(false)\r\n      }}\r\n    >\r\n      {content}\r\n    </Modal>\r\n  )\r\n}\r\nexport default ConfirmModal\r\n","import { Modal } from \"antd\";\r\nimport {useTranslation} from 'react-i18next'\r\n\r\nimport successImg from \"../../images/success_big.png\"\r\nimport { getEllipsStr, getNetworkUrl } from \"../../utils\"\r\n\r\nconst TxModal = ({ visible = false, txHash, setVisible }) => {\r\n  const {t} = useTranslation();\r\n  const url = getNetworkUrl()\r\n  return (\r\n    <>\r\n      <Modal\r\n        maskClosable={false}\r\n        visible={visible}\r\n        onCancel={()=>{setVisible(false)}}\r\n        footer={null}\r\n      >\r\n          <div className=\"flex flex-col items-center \">\r\n            <img src={successImg} alt=\"success\" className=\"w-14\" />\r\n            <div className=\"my-2\">\r\n            {t(\"TxModal.transaction_submitted\")}\r\n            </div>\r\n            <div className=\"\">\r\n              <span>\r\n              {t(\"TxModal.transaction_hash\")}\r\n              </span>\r\n              {txHash&&<a\r\n                href={`${url}/transaction/${txHash}`}\r\n                target=\"_blank\"\r\n                className=\"content ml-1\"\r\n                rel=\"noopener noreferrer\"\r\n              >\r\n                {getEllipsStr(txHash, 8, 0)}\r\n              </a>}\r\n            </div>\r\n          </div>\r\n      </Modal>\r\n    </>\r\n  )\r\n}\r\nexport default TxModal\r\n","export default \"data:image/png;base64,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\"","import React, {useState, useEffect, useCallback} from 'react'\r\nimport {Input, Button, Divider, Form, List, message, Col, Row, Spin} from 'antd'\r\nimport {useParams} from 'react-router-dom'\r\nimport BigNumber from 'bignumber.js'\r\nimport {format} from 'js-conflux-sdk/dist/js-conflux-sdk.umd.min.js'\r\nimport {useTranslation} from 'react-i18next'\r\n\r\nimport {isTestNetEnv} from '../../utils'\r\nimport {\r\n  getPosPoolContract,\r\n  conflux,\r\n  Drip,\r\n  getPosAccountByPowAddress,\r\n} from '../../utils/cfx'\r\nimport {\r\n  getCfxByVote,\r\n  calculateGasMargin,\r\n  getFee,\r\n  getDateByBlockInterval,\r\n  getMax,\r\n  getPrecisionAmount,\r\n} from '../../utils'\r\nimport {\r\n  useBalance,\r\n  useAccount,\r\n  useChainId,\r\n  sendTransaction,\r\n  Unit,\r\n} from '@cfxjs/use-wallet'\r\nimport {CFX_BASE_PER_VOTE, StatusPosNode} from '../../constants'\r\nimport Header from './Header'\r\nimport ConfirmModal from './ConfirmModal'\r\nimport TxModal from './TxModal'\r\n\r\nconst isTest = isTestNetEnv()\r\n\r\nfunction Pool() {\r\n  const {t} = useTranslation()\r\n  const chainId = useChainId()\r\n  const accountAddress = useAccount()\r\n  const [form] = Form.useForm()\r\n  const _balance = useBalance()\r\n  const balance = _balance?.toDecimalStandardUnit(5)\r\n  const cfxMaxCanStake = getMax(balance)\r\n  let {poolAddress} = useParams()\r\n  const posPoolContract = getPosPoolContract(poolAddress)\r\n  const [status, setStatus] = useState(StatusPosNode.loading)\r\n  const [stakedCfx, setStakedCfx] = useState(0)\r\n  const [rewards, setRewards] = useState(0)\r\n  const [fee, setFee] = useState(0)\r\n  const [cfxCanUnstake, setCfxCanUnstate] = useState(0)\r\n  const [cfxCanWithdraw, setCfxCanWithdraw] = useState(0)\r\n  const [inputStakeCfx, setInputStakeCfx] = useState('')\r\n  const [inputUnstakeCfx, setInputUnstakeCfx] = useState('')\r\n  const [userSummary, setUserSummary] = useState([])\r\n  const [currentBlockNumber, setCurrentBlockNumber] = useState(0)\r\n  const [lastDistributeTime, setLastDistributeTime] = useState('')\r\n  const [unstakeList, setUnstakeList] = useState([])\r\n  const [stakeModalShown, setStakeModalShown] = useState(false)\r\n  const [unstakeModalShown, setUnStakeModalShown] = useState(false)\r\n  const [txModalShown, setTxModalShown] = useState(false)\r\n  const [txHash, setTxHash] = useState('')\r\n  const [stakeInputStatus, setStakeInputStatus] = useState('error')\r\n  const [stakeErrorText, setStakeErrorText] = useState('')\r\n  const [unstakeInputStatus, setUnstakeInputStatus] = useState('error')\r\n  const [unstakeErrorText, setUnstakeErrorText] = useState('')\r\n  const [stakeBtnDisabled, setStakeBtnDisabled] = useState(true)\r\n  const [unstakeBtnDisabled, setUnstakeBtnDisabled] = useState(true)\r\n  const [isLoading, setIsLoading] = useState(false)\r\n  const [waitStakeRes, setWaitStakeRes] = useState(false)\r\n\r\n  useEffect(() => {\r\n    async function fetchData() {\r\n      const proArr = []\r\n      proArr.push(conflux.provider.call('cfx_getStatus'))\r\n      proArr.push(conflux.provider.call('cfx_getPoSEconomics'))\r\n      const data = await Promise.all(proArr)\r\n      const currentBlock = new BigNumber(data[0]?.blockNumber || 0).toNumber()\r\n      const lastDistribute = new BigNumber(\r\n        data[1]?.lastDistributeBlock || 0,\r\n      ).toNumber()\r\n      setCurrentBlockNumber(currentBlock)\r\n      setLastDistributeTime(\r\n        getDateByBlockInterval(lastDistribute, currentBlock).toLocaleString(),\r\n      )\r\n    }\r\n    fetchData()\r\n  }, [])\r\n\r\n  useEffect(() => {\r\n    if (status) {\r\n      if (stakeErrorText) {\r\n        setStakeBtnDisabled(true)\r\n      } else {\r\n        setStakeBtnDisabled(false)\r\n      }\r\n    } else {\r\n      setStakeBtnDisabled(true)\r\n    }\r\n  }, [stakeErrorText, status])\r\n\r\n  useEffect(() => {\r\n    if (status) {\r\n      if (unstakeErrorText) {\r\n        setUnstakeBtnDisabled(true)\r\n      } else {\r\n        setUnstakeBtnDisabled(false)\r\n      }\r\n    } else {\r\n      setUnstakeBtnDisabled(true)\r\n    }\r\n  }, [unstakeErrorText, status])\r\n\r\n  useEffect(() => {\r\n    async function fetchData(address) {\r\n      try {\r\n        const posAccount = await getPosAccountByPowAddress(address)\r\n      setStatus(\r\n        posAccount.status?.forceRetired == null\r\n          ? StatusPosNode.success\r\n          : StatusPosNode.error,\r\n      )\r\n      } catch (error) {\r\n        setStatus(StatusPosNode.warning)\r\n      }\r\n    }\r\n    fetchData(poolAddress)\r\n  }, [poolAddress])\r\n\r\n  useEffect(() => {\r\n    try {\r\n      const stakeCfxNum = Number(inputStakeCfx)\r\n      if (\r\n        stakeCfxNum >= CFX_BASE_PER_VOTE &&\r\n        stakeCfxNum <= cfxMaxCanStake &&\r\n        stakeCfxNum % CFX_BASE_PER_VOTE === 0\r\n      ) {\r\n        setStakeInputStatus('green')\r\n        setStakeErrorText('')\r\n      } else {\r\n        setStakeInputStatus('error')\r\n        setStakeErrorText(t('Pool.wrong_amount'))\r\n      }\r\n    } catch (error) {\r\n      setStakeInputStatus('error')\r\n      setStakeErrorText(t('Pool.wrong_amount'))\r\n    }\r\n  }, [cfxMaxCanStake, inputStakeCfx, t])\r\n\r\n  useEffect(() => {\r\n    try {\r\n      const cfxNum = Number(inputUnstakeCfx)\r\n      if (\r\n        cfxNum >= CFX_BASE_PER_VOTE &&\r\n        cfxNum <= cfxCanUnstake &&\r\n        cfxNum % CFX_BASE_PER_VOTE === 0\r\n      ) {\r\n        setUnstakeInputStatus('green')\r\n        setUnstakeErrorText('')\r\n      } else {\r\n        setUnstakeInputStatus('error')\r\n        setUnstakeErrorText(t('Pool.wrong_amount'))\r\n      }\r\n    } catch (error) {\r\n      setUnstakeInputStatus('error')\r\n      setUnstakeErrorText(t('Pool.wrong_amount'))\r\n    }\r\n  }, [cfxCanUnstake, inputUnstakeCfx, t])\r\n\r\n  function resetData() {\r\n    setStakedCfx(0)\r\n    setRewards(0)\r\n    setCfxCanUnstate(0)\r\n    setCfxCanWithdraw(0)\r\n  }\r\n\r\n  const fetchPoolData = useCallback(async () => {\r\n    setIsLoading(true)\r\n    try {\r\n      const proArr = []\r\n      proArr.push(posPoolContract.userSummary(accountAddress))\r\n      proArr.push(posPoolContract.userInterest(accountAddress))\r\n      proArr.push(posPoolContract.poolUserShareRatio())\r\n      proArr.push(posPoolContract.userOutQueue(accountAddress))\r\n      const data = await Promise.all(proArr)\r\n      const userSum = data[0]\r\n      setUserSummary(userSum)\r\n      setStakedCfx(\r\n        new BigNumber(userSum[1] || 0)\r\n          .multipliedBy(CFX_BASE_PER_VOTE)\r\n          .toString(10),\r\n      )\r\n      setCfxCanUnstate(getCfxByVote(userSum[2] || 0))\r\n      setCfxCanWithdraw(getCfxByVote(userSum[3] || 0))\r\n      setRewards(\r\n        getPrecisionAmount(\r\n          new Drip(new BigNumber(data[1]).toString(10)).toCFX(),\r\n          5,\r\n        ),\r\n      )\r\n      setFee(getFee(data[2]))\r\n      setUnstakeList(transferQueue(data[3]))\r\n      setIsLoading(false)\r\n    } catch (error) {\r\n      setIsLoading(false)\r\n    }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [accountAddress, currentBlockNumber])\r\n\r\n  useEffect(() => {\r\n    if (!waitStakeRes) return\r\n    if (accountAddress) {\r\n      fetchPoolData()\r\n      setWaitStakeRes(false)\r\n    }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [balance])\r\n\r\n  useEffect(() => {\r\n    if (accountAddress) {\r\n      fetchPoolData()\r\n    } else {\r\n      resetData()\r\n    }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [accountAddress, currentBlockNumber])\r\n\r\n  const transferQueue = queueList => {\r\n    if (queueList.length === 0) return []\r\n    const arr = []\r\n    queueList.forEach(item => {\r\n      const blockNumber = new BigNumber(item[1]).toNumber()\r\n      if (blockNumber > currentBlockNumber) {\r\n        arr.push({\r\n          amount: getCfxByVote(item[0]),\r\n          timeStr: getDateByBlockInterval(\r\n            blockNumber,\r\n            currentBlockNumber,\r\n          ).toLocaleString(),\r\n        })\r\n      }\r\n    })\r\n    return arr\r\n  }\r\n\r\n  const onStakeChange = e => {\r\n    setInputStakeCfx(e.target.value)\r\n  }\r\n\r\n  const onUnstakeChange = e => {\r\n    setInputUnstakeCfx(e.target.value)\r\n  }\r\n\r\n  const submit = async type => {\r\n    if (!accountAddress) {\r\n      message.error('Please connect Fluent')\r\n      return\r\n    }\r\n\r\n    try {\r\n      let data = ''\r\n      let estimateData = {}\r\n      let value = 0\r\n      switch (type) {\r\n        case 'stake':\r\n          value = new BigNumber(inputStakeCfx)\r\n            .multipliedBy(10 ** 18)\r\n            .toString(10)\r\n          const stakeVote = new BigNumber(inputStakeCfx)\r\n            .dividedBy(CFX_BASE_PER_VOTE)\r\n            .toString(10)\r\n          estimateData = await posPoolContract\r\n            .increaseStake(stakeVote)\r\n            .estimateGasAndCollateral({\r\n              from: accountAddress,\r\n              value,\r\n            })\r\n          data = posPoolContract.increaseStake(stakeVote).data\r\n          setWaitStakeRes(true)\r\n          break\r\n        case 'unstake':\r\n          value = 0\r\n          const unstakeVote = new BigNumber(inputUnstakeCfx)\r\n            .dividedBy(CFX_BASE_PER_VOTE)\r\n            .toString(10)\r\n          estimateData = await posPoolContract\r\n            .decreaseStake(unstakeVote)\r\n            .estimateGasAndCollateral({\r\n              from: accountAddress,\r\n            })\r\n          data = posPoolContract.decreaseStake(unstakeVote).data\r\n          break\r\n        case 'claim':\r\n          value = 0\r\n          estimateData = await posPoolContract\r\n            .claimAllInterest()\r\n            .estimateGasAndCollateral({\r\n              from: accountAddress,\r\n            })\r\n          data = posPoolContract.claimAllInterest().data\r\n          break\r\n        case 'withdraw':\r\n          value = 0\r\n          estimateData = await posPoolContract\r\n            .withdrawStake(new BigNumber(userSummary[3]).toString(10))\r\n            .estimateGasAndCollateral({\r\n              from: accountAddress,\r\n            })\r\n          data = posPoolContract.withdrawStake(\r\n            new BigNumber(userSummary[3]).toString(10),\r\n          ).data\r\n          break\r\n        default:\r\n          break\r\n      }\r\n      const txParams = {\r\n        to: format.address(poolAddress, Number(chainId)),\r\n        data,\r\n        gas: Unit.fromMinUnit(\r\n          calculateGasMargin(estimateData?.gasLimit || 0),\r\n        ).toHexMinUnit(),\r\n        storageLimit: Unit.fromMinUnit(\r\n          calculateGasMargin(String(estimateData?.storageCollateralized || 0)),\r\n        ).toHexMinUnit(),\r\n        value: Unit.fromMinUnit(value).toHexMinUnit(),\r\n      }\r\n      if (stakeModalShown) {\r\n        setStakeModalShown(false)\r\n      }\r\n      if (unstakeModalShown) {\r\n        setUnStakeModalShown(false)\r\n      }\r\n      const txHash = await sendTransaction(txParams)\r\n      setTxHash(txHash)\r\n      setTxModalShown(true)\r\n    } catch (error) {\r\n      console.error('error', error)\r\n    }\r\n  }\r\n\r\n  const checkNetwork = callback => {\r\n    if ((isTest && chainId === '1029') || (!isTest && chainId === '1')) {\r\n      return\r\n    }\r\n\r\n    if (typeof callback === 'function') callback()\r\n  }\r\n\r\n  return (\r\n    <div className=\"w-full h-full flex\">\r\n      {isLoading ? (\r\n        <div className=\"flex items-center justify-center w-full h-screen\">\r\n          <Spin></Spin>\r\n        </div>\r\n      ) : (\r\n        <div className=\"container mx-auto\">\r\n\r\n<fieldset style={{ fontWeight: 'bold',color: 'white'}}>\r\n          <legend>Tips</legend>\r\n          <ol  >\r\n\r\n\r\n          <li>\r\nSecurity First, we will never change the contract code, our KYC info have been provided to Conflux fundation team.\r\n </li>\r\n <li>\r\n The earlier you stake, the reward will be higher.\r\n </li>\r\n <li>\r\n The pool performance fee in the first week +1 day will be 0.01%, after that it will back to 3.99% of the PoS reward.   \r\n </li>\r\n <li>\r\n The first 200 staker will gain a Conflux Fans PoS Pool genesis NFT, and we will share our income to those genesis NFT,  the details will be discussed later via DAO vote.   \r\n </li>\r\n          </ol>\r\n  </fieldset>\r\n  \r\n          <Header status={status} />\r\n          <div className=\"flex justify-center mt-6\">\r\n            <div className=\"w-9/12\">\r\n              <div className=\"flex\">\r\n                <div className=\"flex-1 p-6 mr-4 -ml-2 border-gray-800 border-2 text-white box-border rounded bg-main-back\">\r\n                  <Form\r\n                    layout=\"vertical\"\r\n                    form={form}\r\n                    wrapperCol={{style: {color: 'white'}}}\r\n                    style={{color: 'white'}}\r\n                  >\r\n                    <div className=\"font-bold my-4 text-xl text-center\">\r\n                      {t('Pool.stake&unstake')}\r\n                    </div>\r\n                    <div className=\"my-2\">{t('Pool.how_much_stake')}</div>\r\n                    <Form.Item\r\n                      required\r\n                      validateStatus={stakeInputStatus}\r\n                      help={stakeErrorText}\r\n                    >\r\n                      <Row>\r\n                        <Col span={21}>\r\n                          <Input\r\n                            placeholder={t('Pool.enter_cfx_amount')}\r\n                            //   addonAfter={<span>Max</span>}\r\n                            value={inputStakeCfx}\r\n                            onChange={onStakeChange}\r\n                          />\r\n                        </Col>\r\n                        <Col span={3}>\r\n                          <Button\r\n                            onClick={() => {\r\n                              setInputStakeCfx(cfxMaxCanStake)\r\n                            }}\r\n                          >\r\n                            {t('Pool.max')}\r\n                          </Button>\r\n                        </Col>\r\n                      </Row>\r\n                    </Form.Item>\r\n                    <div>\r\n                      <span>{t('Pool.balance')}</span>\r\n                      <span className=\"ml-2 font-bold\">{balance}</span>\r\n                      <span> CFX</span>\r\n                    </div>\r\n                    <div className=\"flex mt-2\">\r\n                      <Button\r\n                        type=\"primary\"\r\n                        size=\"middle\"\r\n                        onClick={() => {\r\n                          checkNetwork(() => setStakeModalShown(true))\r\n                        }}\r\n                        disabled={stakeBtnDisabled}\r\n                      >\r\n                        {t('Pool.stake')}\r\n                      </Button>\r\n                    </div>\r\n                    <Divider dashed style={{borderColor: 'white'}} />\r\n                    <div className=\"my-1\">{t('Pool.how_much_unstake')}</div>\r\n                    <Form.Item\r\n                      required\r\n                      validateStatus={unstakeInputStatus}\r\n                      help={unstakeErrorText}\r\n                    >\r\n                      <Row>\r\n                        <Col span={21}>\r\n                          <Input\r\n                            placeholder={t('Pool.enter_cfx_amount')}\r\n                            value={inputUnstakeCfx}\r\n                            onChange={onUnstakeChange}\r\n                          />\r\n                        </Col>\r\n                        <Col span={3}>\r\n                          <Button\r\n                            onClick={() => {\r\n                              setInputUnstakeCfx(cfxCanUnstake)\r\n                            }}\r\n                          >\r\n                            {t('Pool.max')}\r\n                          </Button>\r\n                        </Col>\r\n                      </Row>\r\n                    </Form.Item>\r\n\r\n                    <div>\r\n                      <span>{t('Pool.unstakeable')}</span>\r\n                      <span className=\"ml-2 font-bold\">{cfxCanUnstake}</span>\r\n                      <span> CFX</span>\r\n                    </div>\r\n                    <div className=\"flex mt-2\">\r\n                      <Button\r\n                        type=\"primary\"\r\n                        size=\"middle\"\r\n                        onClick={() => {\r\n                          checkNetwork(() => setUnStakeModalShown(true))\r\n                        }}\r\n                        disabled={unstakeBtnDisabled}\r\n                      >\r\n                        {t('Pool.unstake')}\r\n                      </Button>\r\n                    </div>\r\n                  </Form>\r\n                </div>\r\n                <div className=\"flex-1 p-6 border-gray-800 border-2 box-border rounded bg-main-back text-white\">\r\n                  <div className=\"font-bold my-4 text-xl text-center mb-4\">\r\n                    {t('Pool.my_pool')}\r\n                  </div>\r\n                  <div className=\"mt-7\">\r\n                    <span>{t('Pool.my_staked')}</span>\r\n                    <span className=\"ml-2 font-bold\">{stakedCfx}</span>\r\n                    <span> CFX</span>\r\n                  </div>\r\n                  <div className=\"my-4\">\r\n                    <span>{t('Pool.my_rewards')}</span>\r\n                    <span className=\"ml-2 font-bold\">{rewards}</span>\r\n                    <span> CFX</span>\r\n                    <span className=\"ml-2\">\r\n                      <Button\r\n                        type=\"primary\"\r\n                        size=\"small\"\r\n                        onClick={() => {\r\n                          checkNetwork(() => submit('claim'))\r\n                        }}\r\n                        disabled={new BigNumber(rewards).isEqualTo(0)}\r\n                      >\r\n                        {t('Pool.claim')}\r\n                      </Button>\r\n                    </span>\r\n                  </div>\r\n                  <div className=\"my-2 opacity-60\">\r\n                    <span>{t('Pool.last_update_time')}</span>\r\n                    <span>{lastDistributeTime}</span>\r\n                  </div>\r\n                  <div className=\"my-4\">\r\n                    <span>{t('Pool.performance_fee')}</span>\r\n                    <span className=\"ml-2 font-bold\">{`${fee} %`}</span>\r\n                  </div>\r\n                  <Divider dashed style={{borderColor: 'white'}} />\r\n                  <div>\r\n                    <span>{t('Pool.withdrawable')}</span>\r\n                    <span className=\"ml-2 font-bold\">{cfxCanWithdraw}</span>\r\n                    <span> CFX</span>\r\n                    <span className=\"ml-2\">\r\n                      <Button\r\n                        type=\"primary\"\r\n                        size=\"small\"\r\n                        onClick={() => {\r\n                          checkNetwork(() => submit('withdraw'))\r\n                        }}\r\n                        disabled={!cfxCanWithdraw}\r\n                      >\r\n                        {t('Pool.withdraw')}\r\n                      </Button>\r\n                    </span>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              <div className={`${unstakeList.length > 0 ? 'block' : 'hidden'}`}>\r\n                <Divider\r\n                  dashed\r\n                  orientation=\"left\"\r\n                  style={{borderColor: 'white', color: 'white'}}\r\n                >\r\n                  {t('Pool.unstake_activity')}\r\n                </Divider>\r\n                <List\r\n                  bordered\r\n                  dataSource={unstakeList}\r\n                  renderItem={item => (\r\n                    <List.Item>\r\n                      <div className=\"text-white\">{`${item.amount} CFX`}</div>\r\n                      <div className=\"text-white\">\r\n                        {t('Pool.can_withdraw_at', {time: item.timeStr})}\r\n                      </div>\r\n                    </List.Item>\r\n                  )}\r\n                />\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n      )\r\n      <ConfirmModal\r\n        visible={stakeModalShown}\r\n        setVisible={setStakeModalShown}\r\n        type=\"stake\"\r\n        onOk={() => {\r\n          submit('stake')\r\n        }}\r\n      ></ConfirmModal>\r\n      <ConfirmModal\r\n        visible={unstakeModalShown}\r\n        setVisible={setUnStakeModalShown}\r\n        type=\"unstake\"\r\n        onOk={() => {\r\n          submit('unstake')\r\n        }}\r\n      ></ConfirmModal>\r\n      <TxModal\r\n        visible={txModalShown}\r\n        setVisible={setTxModalShown}\r\n        txHash={txHash}\r\n      ></TxModal>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Pool\r\n","import { Suspense } from \"react\";\r\nimport { BrowserRouter as Router, Route, Switch } from \"react-router-dom\";\r\nimport { Spin, Layout } from \"antd\";\r\n\r\nimport \"./App.css\";\r\nimport { Header } from \"./pages/components\";\r\nimport Home from \"./pages/Home\";\r\nimport Pool from \"./pages/Pool\";\r\n\r\nconst { Content } = Layout;\r\n\r\nfunction App() {\r\n  return (\r\n    <Suspense\r\n      fallback={\r\n        <div className=\"w-full h-full flex items-center justify-center\">\r\n          <Spin className=\"w-20 h-20\" />\r\n        </div>\r\n      }\r\n    >\r\n      <Router basename=\"/pool\">\r\n        <Layout className=\"layout\">\r\n          <div className=\"flex flex-col h-full relative overflow-x-hidden\">\r\n            <Header />\r\n            <Content style={{ padding: \"50px 50px\",backgroundColor:'#2d3344' }}>\r\n              <div>\r\n                <Switch>\r\n                  <Route path=\"/\" exact>\r\n                    <Home />\r\n                  </Route>\r\n                  <Route path=\"/pool/:poolAddress\" exact>\r\n                    <Pool />\r\n                  </Route>\r\n                </Switch>\r\n              </div>\r\n            </Content>\r\n            {/* <Footer style={{ textAlign: 'center' }}>PoS Pool</Footer> */}\r\n          </div>\r\n        </Layout>\r\n      </Router>\r\n    </Suspense>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport reportWebVitals from './reportWebVitals';\r\nimport {completeDetect} from '@cfxjs/use-wallet';\r\nimport '../public/locales';\r\n\r\ncompleteDetect().then(() => {\r\n  ReactDOM.render(\r\n    <React.StrictMode>\r\n      <App />\r\n    </React.StrictMode>,\r\n    document.getElementById('root')\r\n  );\r\n});\r\n\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n","\r\nmodule.exports = {\r\n  defaultLang: 'zh',\r\n  testnet: {\r\n    poolManagerAddress: 'cfxtest:xxxxxxxxxxxxxxxxxxxxxxxxxx',\r\n    RPC: 'https://test.confluxrpc.com',\r\n    networkId: 1\r\n  },\r\n  mainnet: {\r\n\t  poolManagerAddress: 'cfx:acan8rz12ejvn2wkne4r55eza2mc2hnbh6p60wk6zw',\r\n    RPC: 'https://main.confluxrpc.com',\r\n    networkId: 1029\r\n  }\r\n}\r\n"],"sourceRoot":""}